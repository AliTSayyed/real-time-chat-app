<div id="search">
  <label for=""><i class="fa fa-search" aria-hidden="true"></i></label>
  <input type="text" placeholder="Search contacts..." />
</div>
<div id="contacts">
  <ul>
    <!-- Iterate over the threads and display each thread -->
    <li
      *ngFor="let thread of threads"
      class="contact"
      [ngClass]="{ active: thread === selectedThread }"
      (click)="selectContactForChat(thread)"
    >
      <div class="wrap">
        <span class="contact-status online"></span>
        <img src="User Icon 1.png" alt="" />
        <div class="meta">
          <div class="name-and-date">
            <!-- Display the name of the recipient user in the thread -->
            <p class="name">{{ thread.recipient_username }}</p>
            <!-- Display the time the message was last sent -->
            <p class="date">
              {{
                thread.messages[thread.messages.length - 1].timestamp
                  | customdate2
              }}
            </p>
          </div>
          <!-- Display the latest message preview -->
          <p
            class="preview"
            *ngIf="thread.messages.length > 0; else noMessages"
          >
            {{ thread.messages[thread.messages.length - 1].message }}
          </p>
          <ng-template #noMessages>
            <p class="preview">No messages yet</p>
          </ng-template>
        </div>
      </div>
    </li>
  </ul>
</div>
<div id="bottom-bar">
  <button id="addcontact">
    <i class="fa fa-user-plus fa-fw" aria-hidden="true"></i>
    <span>Add contact</span>
  </button>
  <button id="settings">
    <i class="fa fa-cog fa-fw" aria-hidden="true"></i>
    <span>Settings</span>
  </button>
</div>
